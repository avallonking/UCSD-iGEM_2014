<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    </head>
    <body>
        <div>
        <input id="text">
        <input id="emailTo" placeholder="email">
        <button id="addThis">Click</button>
        
        <div id="output"></div>
        </div>
        <script>
            $(document).ready(function() {


                var userID = makeid(); //temp random id
                //event handler for the ping button
                $('#addThis').click(function() {
                    alert(userID);
                    var email= $("#emailTo").val();
                    var text = $("#text").val();
                    alert(email + " " + text);
                    var data = {users: userID, commanded: 'send', emailTo: email, textTo: text }; //package the input into a json file for submission to the server
                    $.get("AuthenticationServlet", data, function(emailTo) { //parameters are: servlet url, data, callback function
                        $('#output').text(emailTo); //display the server response in the output area
                        alert(emailTo);
                        
                    });
                });
                //generates a random string of 20 characters
                function makeid() {
                    var text = "";
                    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

                    for (var i = 0; i < 20; i++)
                        text += possible.charAt(Math.floor(Math.random() * possible.length));

                    return text;
                }
            });

        </script>
    </body>
</html>
